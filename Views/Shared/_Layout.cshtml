@{
    
    var profileImage = Context.Session.GetString("UserProfileImage") ?? "/assets/images/default-profile.png";
}

<!doctype html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title data-setting="app_name" data-rightJoin=" "></title>
    <meta name="description" content="Muzik is a revolutionary Bootstrap Admin Dashboard Template and UI Components Library. The Admin Dashboard Template and UI Component features 8 modules.">
    <meta name="keywords" content="premium, admin, dashboard, template, bootstrap 5, clean ui, muzik, admin dashboard,responsive dashboard, optimized dashboard,">
    <meta name="author" content="Iqonic Design">
    <meta name="DC.title" content="Muzik Responsive Bootstrap 5 Admin Dashboard Template">

    <!-- Favicon -->
    <link rel="shortcut icon" href="~/assets/images/favicon.ico">

    <!-- Library / Plugin Css Build -->
    <link rel="stylesheet" href="~/assets/css/core/libs.min.css">

    <link rel="stylesheet" href="~/assets/vendor/sheperd/dist/css/sheperd.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">







    <!-- muzik Design System Css -->
    <link rel="stylesheet" href="~/assets/css/muzik.min.css?v=1.0.1">

    <!-- Custom Css -->
    <link rel="stylesheet" href="~/assets/css/custom.min.css?v=1.0.1">
    <!-- Dark Css -->
    <link rel="stylesheet" href="~/assets/css/dark.min.css?v=1.0.1">

    <!-- Customizer Css -->
    <link rel="stylesheet" href="~/assets/css/customizer.min.css?v=1.0.1">

    <!-- RTL Css -->
    <link rel="stylesheet" href="~/assets/css/rtl.min.css?v=1.0.1">

    <link rel="stylesheet" href="~/assets/vendor/swiperSlider/swiper-bundle.min.css">


    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap" rel="stylesheet">
    <meta name="root_path" content="../">
</head>
<body class="  ">
    <style>
        .iq-float-menu {
            position: fixed;
            bottom: auto !important; /* Alt pozisyonlama kaldırıldı */
            top: 85% !important; /* Sayfa yüksekliğinin %70'ine konumlandırma */
            right: 5px!important;
            z-index: 999;
        }

        /* Alternatif olarak sabit bir piksel değeri de kullanabilirsiniz */
        /* top: 400px !important; /* Üstten 400px aşağıda */
        /* Tema renkleri için CSS değişkenleri */
        :root {
            --primary: #7016d0;
            --primary-dark: #5b11aa;
            --primary-light: #8c42e8;
            --secondary: #5c6ca5;
            --accent: #e9deff;
        }

        [data-theme="theme-mor"] {
            --primary: #7016d0;
            --primary-dark: #5b11aa;
            --primary-light: #8c42e8;
            --secondary: #5c6ca5;
            --accent: #e9deff;
        }

        [data-theme="theme-kirmizi"] {
            --primary: #e73827;
            --primary-dark: #c42d1f;
            --primary-light: #f05e51;
            --secondary: #a54c43;
            --accent: #ffeded;
        }

        [data-theme="theme-mavi"] {
            --primary: #1a56db;
            --primary-dark: #1445b3;
            --primary-light: #4078e5;
            --secondary: #5c7ca5;
            --accent: #e6f0ff;
        }

        [data-theme="theme-yesil"] {
            --primary: #16a34a;
            --primary-dark: #12873d;
            --primary-light: #32c964;
            --secondary: #5ca58c;
            --accent: #e6ffee;
        }

        [data-theme="theme-turuncu"] {
            --primary: #ea580c;
            --primary-dark: #c44a0a;
            --primary-light: #f47c3b;
            --secondary: #a57c5c;
            --accent: #fff5eb;
        }

        [data-theme="theme-turkuaz"] {
            --primary: #0d9488;
            --primary-dark: #0b7c72;
            --primary-light: #14b8aa;
            --secondary: #5ca5a0;
            --accent: #e6fffe;
        }

        [data-theme="theme-pembe"] {
            --primary: #ec4899;
            --primary-dark: #d63384;
            --primary-light: #f472b6;
            --secondary: #a55c88;
            --accent: #ffecf6;
        }

        [data-theme="theme-sari"] {
            --primary: #eab308;
            --primary-dark: #ca9707;
            --primary-light: #fcd34d;
            --secondary: #a59a5c;
            --accent: #fffbe6;
        }

        [data-theme="theme-lacivert"] {
            --primary: #1e3a8a;
            --primary-dark: #172b5c;
            --primary-light: #3b56ad;
            --secondary: #5c6ca5;
            --accent: #e6efff;
        }

        [data-theme="theme-bordo"] {
            --primary: #9f1239;
            --primary-dark: #7f0f2f;
            --primary-light: #be1845;
            --secondary: #a55c6c;
            --accent: #ffe6ed;
        }

        /* Renk paleti için stil */
        .theme-color-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }

        .theme-color-palette {
            background-color: #fff;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            width: 300px;
            z-index: 10000;
            position: relative;
        }

        .color-palette-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }

            .color-palette-header h6 {
                margin: 0;
                font-weight: 600;
            }

        .close-palette {
            cursor: pointer;
            font-size: 24px;
            font-weight: bold;
            color: #999;
        }

            .close-palette:hover {
                color: #333;
            }

        .color-options {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
        }

        .color-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.2s;
        }

            .color-option:hover {
                transform: scale(1.1);
            }

            .color-option i {
                color: white;
                font-size: 16px;
                opacity: 0;
            }

            .color-option.active i {
                opacity: 1;
            }
    </style>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Palette açma kontrolü
            const colorPaletteButton = document.querySelector('.float-menu-theme-color');
            const colorPaletteWrapper = document.querySelector('.theme-color-wrapper');
            const closeButton = document.querySelector('.close-palette');
            const colorOptions = document.querySelectorAll('.color-option');

            // Palette açma düğmesi
            colorPaletteButton.addEventListener('click', function(e) {
                e.preventDefault();
                colorPaletteWrapper.style.display = 'flex';
            });

            // Palette kapatma düğmesi
            closeButton.addEventListener('click', function() {
                colorPaletteWrapper.style.display = 'none';
            });

            // Dışarı tıklandığında palette kapatma
            colorPaletteWrapper.addEventListener('click', function(e) {
                if (e.target === colorPaletteWrapper) {
                    colorPaletteWrapper.style.display = 'none';
                }
            });

            // Renk seçimi
            colorOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // Tüm seçeneklerden active sınıfını kaldır
                    colorOptions.forEach(opt => opt.classList.remove('active'));

                    // Seçilen seçeneğe active sınıfını ekle
                    this.classList.add('active');

                    // Tema rengini al
                    const themeColor = this.getAttribute('data-theme-color');

                    // Tema rengini document'a uygula
                    document.documentElement.setAttribute('data-theme', themeColor);

                    // Tercihi localStorage'da sakla
                    localStorage.setItem('themeColor', themeColor);
                });
            });

            // Sayfaya yüklendiğinde kaydedilmiş tema rengini yükle
            const savedThemeColor = localStorage.getItem('themeColor');
            if (savedThemeColor) {
                document.documentElement.setAttribute('data-theme', savedThemeColor);

                // Aktif renk seçeneğini işaretle
                const activeOption = document.querySelector(`[data-theme-color="${savedThemeColor}"]`);
                if (activeOption) {
                    activeOption.classList.add('active');
                }
            } else {
                // Varsayılan aktif seçeneği ayarla
                const defaultOption = document.querySelector('[data-theme-color="theme-mor"]');
                if (defaultOption) {
                    defaultOption.classList.add('active');
                }
            }
        });

    </script>
    <style>
        /* Kritik elementlere zorunlu olarak renkleri uygulayacak CSS */
        [data-theme="theme-mor"] .bg-primary,
        [data-theme="theme-mor"] [class*="bg-primary"],
        [data-theme="theme-mor"] .btn-primary,
        [data-theme="theme-mor"] .header,
        [data-theme="theme-mor"] .sidebar,
        [data-theme="theme-mor"] .iq-float-menu-item.bg-primary {
            background-color: #b38bff !important;
        }

        [data-theme="theme-kirmizi"] .bg-primary,
        [data-theme="theme-kirmizi"] [class*="bg-primary"],
        [data-theme="theme-kirmizi"] .btn-primary,
        [data-theme="theme-kirmizi"] .header,
        [data-theme="theme-kirmizi"] .sidebar,
        [data-theme="theme-kirmizi"] .iq-float-menu-item.bg-primary {
            background-color: #d78b89 !important;
        }

        [data-theme="theme-mavi"] .bg-primary,
        [data-theme="theme-mavi"] [class*="bg-primary"],
        [data-theme="theme-mavi"] .btn-primary,
        [data-theme="theme-mavi"] .header,
        [data-theme="theme-mavi"] .sidebar,
        [data-theme="theme-mavi"] .iq-float-menu-item.bg-primary {
            background-color: #1a56db !important;
        }

        [data-theme="theme-yesil"] .bg-primary,
        [data-theme="theme-yesil"] [class*="bg-primary"],
        [data-theme="theme-yesil"] .btn-primary,
        [data-theme="theme-yesil"] .header,
        [data-theme="theme-yesil"] .sidebar,
        [data-theme="theme-yesil"] .iq-float-menu-item.bg-primary {
            background-color: #7fff00 !important;
        }

        [data-theme="theme-turuncu"] .bg-primary,
        [data-theme="theme-turuncu"] [class*="bg-primary"],
        [data-theme="theme-turuncu"] .btn-primary,
        [data-theme="theme-turuncu"] .header,
        [data-theme="theme-turuncu"] .sidebar,
        [data-theme="theme-turuncu"] .iq-float-menu-item.bg-primary {
            background-color: #ffaa66 !important;
        }

        [data-theme="theme-turkuaz"] .bg-primary,
        [data-theme="theme-turkuaz"] [class*="bg-primary"],
        [data-theme="theme-turkuaz"] .btn-primary,
        [data-theme="theme-turkuaz"] .header,
        [data-theme="theme-turkuaz"] .sidebar,
        [data-theme="theme-turkuaz"] .iq-float-menu-item.bg-primary {
            background-color: #20c997 !important;
        }

        [data-theme="theme-pembe"] .bg-primary,
        [data-theme="theme-pembe"] [class*="bg-primary"],
        [data-theme="theme-pembe"] .btn-primary,
        [data-theme="theme-pembe"] .header,
        [data-theme="theme-pembe"] .sidebar,
        [data-theme="theme-pembe"] .iq-float-menu-item.bg-primary {
            background-color: #ffcbdb !important;
        }

        [data-theme="theme-sari"] .bg-primary,
        [data-theme="theme-sari"] [class*="bg-primary"],
        [data-theme="theme-sari"] .btn-primary,
        [data-theme="theme-sari"] .header,
        [data-theme="theme-sari"] .sidebar,
        [data-theme="theme-sari"] .iq-float-menu-item.bg-primary {
            background-color: #fbbf24 !important;
        }

        [data-theme="theme-lacivert"] .bg-primary,
        [data-theme="theme-lacivert"] [class*="bg-primary"],
        [data-theme="theme-lacivert"] .btn-primary,
        [data-theme="theme-lacivert"] .header,
        [data-theme="theme-lacivert"] .sidebar,
        [data-theme="theme-lacivert"] .iq-float-menu-item.bg-primary {
            background-color: #1e3a8a !important;
        }

        [data-theme="theme-bordo"] .bg-primary,
        [data-theme="theme-bordo"] [class*="bg-primary"],
        [data-theme="theme-bordo"] .btn-primary,
        [data-theme="theme-bordo"] .header,
        [data-theme="theme-bordo"] .sidebar,
        [data-theme="theme-bordo"] .iq-float-menu-item.bg-primary {
            background-color: #8b0000 !important;
        }

        [data-theme="theme-siyah"] {
            --primary: #121212;
            --primary-dark: #000000;
            --primary-light: #333333;
            --secondary: #555555;
            --accent: #f0f0f0;
            
        }

        [data-theme="theme-gold"] .bg-primary,
        [data-theme="theme-gold"] [class*="bg-primary"],
        [data-theme="theme-gold"] .btn-primary,
        [data-theme="theme-gold"] .header,
        [data-theme="theme-gold"] .sidebar,
        [data-theme="theme-gold"] .iq-float-menu-item.bg-primary {
            background-color: #6F8FAF !important; /* Metalik gri-mavi */
            background-image: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 100%);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        /* Sage Theme Styling */
        [data-theme="theme-sage"] .bg-primary,
        [data-theme="theme-sage"] [class*="bg-primary"],
        [data-theme="theme-sage"] .btn-primary,
        [data-theme="theme-sage"] .header,
        [data-theme="theme-sage"] .sidebar,
        [data-theme="theme-sage"] .iq-float-menu-item.bg-primary {
            background: linear-gradient( 45deg, #2E8B57, /* Orjinal sage yeşili */
            #3CB371, /* Açık yeşil */
            #20B2AA, /* Açık deniz yeşili */
            #00CED1, /* Koyu turkuaz */
            #00FF7F, /* Bahar yeşili */
            #2E8B57 /* Tekrar başa dönüş */
            );
            background-size: 400% 400%;
            animation: gradientAnimation 15s ease infinite;
            background-clip: border-box;
        }

        /* Wine Theme Styling */
        [data-theme="theme-wine"] .bg-primary,
        [data-theme="theme-wine"] [class*="bg-primary"],
        [data-theme="theme-wine"] .btn-primary,
        [data-theme="theme-wine"] .header,
        [data-theme="theme-wine"] .sidebar,
        [data-theme="theme-wine"] .iq-float-menu-item.bg-primary {
            background-color: #722F37 !important;
        }

        /* Navy Blue Theme Styling */
        [data-theme="theme-navy-blue"] .bg-primary,
        [data-theme="theme-navy-blue"] [class*="bg-primary"],
        [data-theme="theme-navy-blue"] .btn-primary,
        [data-theme="theme-navy-blue"] .header,
        [data-theme="theme-navy-blue"] .sidebar,
        [data-theme="theme-navy-blue"] .iq-float-menu-item.bg-primary {
            background-color: #1A2B3C !important;
        }
        /* Diğer renkler için de aynı şekilde devam edin */
        /* Sayfanın tam yüksekliğe yayılmasını sağla */
        html, body {
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        /* İçerik bölgesini genişlet, footer'ı aşağı it */
        .main-content {
            flex-grow: 1;
        }

        /* Footer'ı aşağıya sabitle, ama içeriğin üstüne binmesini engelle */
        .footer {
            background-color: #222;
            color: white;
            text-align: center;
            padding: 15px;
        }


        .content-inner {
            min-height: calc(100vh - 150px); /* Footer'ın yukarı kaymasını önler */
            padding-bottom: 50px;
        }

        .logo-mini {
            max-height: 50px; /* Yüksekliği azalt */
            width: auto; /* En boy oranını koru */
        }

        .logo-main {
            text-align: center;
            .logo-mini

        {
            display: none;
            min-height: 52px;
            height: 140px;
            opacity: 0;
            visibility: hidden;
            -webkit-transition: all .3s ease-in-out;
            -o-transition: all .3s ease-in-out;
            transition: all .3s ease-in-out;
            -webkit-transform: translateX(-30px);
            -ms-transform: translateX(-30px);
            transform: translateX(-30px);
            &.dark-mini,&.white-mini

        {
            display: none;
        }

        }

        .logo-normal {
            display: block;
            min-height: 52px;
            height: 140px !important;
            opacity: 1;
            visibility: visible;
            -webkit-transform: translateX(0px);
            -ms-transform: translateX(0px);
            transform: translateX(0px);
            -webkit-transition: all .3s ease-in-out;
            -o-transition: all .3s ease-in-out;
            transition: all .3s ease-in-out;
            &.dark-normal,&.white-normal

        {
            display: none;
        }

        /* Kırmızı tema - beyaz yazı */
        [data-theme="theme-navy-blue"] a.nav-link {
            color: #ffffff !important;
        }
        /* Kırmızı tema - beyaz yazı */
        [data-theme="theme-wine"] a.nav-link {
            color: #ffffff !important;
        }
        /* Kırmızı tema - beyaz yazı */
        [data-theme="theme-bordo"] a.nav-link {
            color: #ffffff !important;
        }
   

        
        /* Tema Renkleri için Nav Link Yazı Rengi Stilleri */

        /* Gold Theme Text Color Only */
        
        [data-theme="theme-gold"] .nav-link
  {
            color: #000000 !important;
        }

        /* Mor tema - beyaz yazı */
        [data-theme="theme-mor"] a.nav-link {
            color: #ffffff !important;
        }

        /* Kırmızı tema - beyaz yazı */
        [data-theme="theme-kirmizi"] a.nav-link {
            color: #ffffff !important;
        }

        /* Mavi tema - beyaz yazı */
        [data-theme="theme-mavi"] a.nav-link {
            color: #ffffff !important;
        }

        /* Yeşil tema - beyaz yazı */
        [data-theme="theme-yesil"] a.nav-link {
            color: #000000 !important;
        }

        /* Lacivert tema - beyaz yazı */
        [data-theme="theme-lacivert"] a.nav-link {
            color: #ffffff !important;
        }

        /* Bordo tema - beyaz yazı */
        [data-theme="theme-bordo"] a.nav-link {
            color: #ffffff !important;
        }

        /* Turuncu tema - siyah yazı */
        [data-theme="theme-turuncu"] a.nav-link {
            color: #000000 !important;
        }

        /* Turkuaz tema - siyah yazı */
        [data-theme="theme-turkuaz"] a.nav-link {
            color: #000000 !important;
        }

        /* Pembe tema - siyah yazı */
        [data-theme="theme-pembe"] a.nav-link {
            color: #000000 !important;
        }

        /* Sarı tema - siyah yazı */
        [data-theme="theme-sari"] a.nav-link {
            color: #000000 !important;
        }
    </style>
    <!-- loader Start -->
    
    <!-- loader END -->
    <aside class="sidebar sidebar-base sidebar-white sidebar-default  " id="first-tour"
           data-toggle="main-sidebar" data-sidebar="responsive">
        <div class="sidebar-header d-flex align-items-center justify-content-center">
            <a asp-controller="Dashboard" asp-action="Index" class="navbar-brand">



                <!--Logo start-->
                <div class="logo-main">
                    <img src="~/assets/images/logo2.png" class="logo-normal img-fluid" alt="logo">
                    <img src="~/assets/images/logo2.png" class="logo-normal dark-normal img-fluid" alt="logo-dark">
                    <img src="~/assets/images/logo2.png" class="logo-normal white-normal img-fluid" alt="logo-color">
                    <img src="~/assets/images/logo3.png" class="logo-mini img-fluid" alt="logo-mini">
                    <img src="~/assets/images/logo3.png" class="logo-mini dark-mini img-fluid" alt="logo-dark-mini">
                    <img src="~/assets/images/logo3.png" class="logo-mini white-mini img-fluid" alt="logo-white-mini">
                </div>
                <!--logo End-->
            </a>
            <div class="sidebar-toggle" data-toggle="sidebar" data-active="true">
                <i class="icon">

                    <svg class="icon-10" width="10" height="10" viewBox="0 0 8 8" fill="none"
                         xmlns="http://www.w3.org/2000/svg">
                        <path d="M7.29853 8C7.11974 8 6.94002 7.93083 6.80335 7.79248L3.53927 4.50446C3.40728 4.37085 3.33333 4.18987 3.33333 4.00036C3.33333 3.81179 3.40728 3.63081 3.53927 3.4972L6.80335 0.207279C7.07762 -0.069408 7.52132 -0.069408 7.79558 0.209174C8.06892 0.487756 8.06798 0.937847 7.79371 1.21453L5.02949 4.00036L7.79371 6.78618C8.06798 7.06286 8.06892 7.51201 7.79558 7.79059C7.65892 7.93083 7.47826 8 7.29853 8Z"
                              fill="white" />
                        <path d="M3.96552 8C3.78673 8 3.60701 7.93083 3.47034 7.79248L0.206261 4.50446C0.0742745 4.37085 0.000325203 4.18987 0.000325203 4.00036C0.000325203 3.81179 0.0742745 3.63081 0.206261 3.4972L3.47034 0.207279C3.74461 -0.069408 4.18831 -0.069408 4.46258 0.209174C4.73591 0.487756 4.73497 0.937847 4.4607 1.21453L1.69649 4.00036L4.4607 6.78618C4.73497 7.06286 4.73591 7.51201 4.46258 7.79059C4.32591 7.93083 4.14525 8 3.96552 8Z"
                              fill="white" />
                    </svg>
                </i>
            </div>
        </div>
        <div class="navbar-nav" id="sidebar-menu">
            <li class="nav-item">
                <a asp-controller="Dashboard" asp-action="Index" class="nav-link">
                    🏠 <span class="item-name">Home</span>
                </a>
            </li>

            <li class="nav-item">
                <a asp-controller="Dashboard" asp-action="ListenTag" class="nav-link">
                    🎧 <span class="item-name">Listen & Tag</span>
                </a>
            </li>

            <li class="nav-item">
                <a asp-controller="Dashboard" asp-action="Favorites" class="nav-link">
                    ❤️ <span class="item-name">My Favorites</span>
                </a>
            </li>

            <li class="nav-item">
                <a asp-controller="Dashboard" asp-action="Playlist" class="nav-link">
                    📀 <span class="item-name">Create Playlist</span>
                </a>
            </li>
            <li class="nav-item">
                <a asp-controller="Dashboard" asp-action="ListenMixed" class="nav-link">
                    🎵 <span class="item-name">Listen Mixed</span>
                </a>
            </li>
            <li class="nav-item">
                <a asp-controller="Dashboard" asp-action="ListeningHistory" class="nav-link">
                    📜 <span class="item-name">Listening History</span>
                </a>
            </li>


         

            <li class="nav-item">
                <a asp-controller="Dashboard" asp-action="Leaderboard" class="nav-link">
                    🏆 <span class="item-name">Leaderboard</span>
                </a>
            </li>

            <li class="nav-item">
                <a asp-controller="Dashboard" asp-action="Profile" class="nav-link">
                    👤 <span class="item-name">My Profile</span>
                </a>
            </li>
            @if (Context.Session.GetString("UserRole") == "Admin")
            {
                <li>
                    <a asp-controller="Admin" asp-action="Index">
                        <i class="fas fa-tools"></i> Admin Paneli
                    </a>
                </li>
            }

        </div>



    </aside>
    <main class="main-content">
        <div class="position-relative ">
            <!--Nav Start-->
            <nav class="nav navbar navbar-expand-xl navbar-light iq-navbar">
                <div class="container-fluid navbar-inner">
                    <a href="../dashboard/index.html" class="navbar-brand">

                        <!--Logo start-->
                        <div class="logo-main">
                            <img src="~/assets/images/logo.svg" class="logo-normal img-fluid" alt="">
                            
                            <img src="~/assets/images/logo-color.svg" class="logo-normal white-normal img-fluid" alt="logo-color">
                            <img src="~/assets/images/logo-mini.svg" class="logo-mini img-fluid" alt="logo-mini">
                            <img src="~/assets/images/logo3.png" class="logo-mini dark-mini img-fluid" alt="logo-dark-mini">
                            <img src="~/assets/images/logo3.png" class="logo-mini white-mini img-fluid" alt="logo-white-mini">
                        </div>
                        <!--logo End-->
                    </a>
                    <div class="sidebar-toggle" data-toggle="sidebar" data-active="true">
                        <i class="icon d-flex">
                            <svg class="icon-20" width="20" viewBox="0 0 24 24">
                                <path fill="currentColor" d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" />
                            </svg>
                        </i>
                    </div>
                    <div class="d-flex align-items-center justify-content-between product-offcanvas">
                    </div>
                    <div class="d-flex align-items-center">
                        <button id="navbar-toggle" class="navbar-toggler" type="button" data-bs-toggle="collapse"
                                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                                aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon">
                                <span class="navbar-toggler-bar bar1 mt-1"></span>
                                <span class="navbar-toggler-bar bar2"></span>
                                <span class="navbar-toggler-bar bar3"></span>
                            </span>
                        </button>
                    </div>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <div class="search-box d-xl-block d-none">
                            <div class="dropdown">
                                <div class="search-box-drop" id="search-box-drop" data-bs-toggle="dropdown">
                                    <div class="d-flex align-items-center justify-content-between gap-2">
                                        <div class="search-box-inner">
                                            <button type="submit" class="search-box-drop-submit">
                                                <svg fill="none" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                     viewBox="0 0 24 24">
                                                    <circle cx="11.7669" cy="11.7666" r="8.98856" stroke="currentColor" stroke-width="1.5"
                                                            stroke-linecap="round" stroke-linejoin="round" />
                                                    <path d="M18.0186 18.4851L21.5426 22" stroke="currentColor" stroke-width="1.5"
                                                          stroke-linecap="round" stroke-linejoin="round" />
                                                </svg>
                                            </button>
                                            <input type="text" placeholder="Search Here...">
                                        </div>
                                        <div class="flex-shrink-0 search-box-btn">
                                            <a class="btn  text-capitalize">
                                                clt + k
                                            </a>
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>
                        <ul class="mb-2 navbar-nav ms-auto align-items-center navbar-list mb-lg-0">
                            <li class="nav-item dropdown d-xl-none d-block">
                                <a href="#" class="nav-link" id="search-drop" data-bs-toggle="dropdown">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <rect opacity="0.5" x="17.0365" y="15.1223" width="8.15546" height="2" rx="1"
                                              transform="rotate(45 17.0365 15.1223)" fill="currentColor"></rect>
                                        <path d="M11 19C6.55556 19 3 15.4444 3 11C3 6.55556 6.55556 3 11 3C15.4444 3 19 6.55556 19 11C19 15.4444 15.4444 19 11 19ZM11 5C7.53333 5 5 7.53333 5 11C5 14.4667 7.53333 17 11 17C14.4667 17 17 14.4667 17 11C17 7.53333 14.4667 5 11 5Z"
                                              fill="currentColor"></path>
                                    </svg>
                                </a>
                                <ul class="p-0 sub-drop dropdown-menu dropdown-menu-end" aria-labelledby="search-drop">
                                    <li class="">
                                        <div class="p-3 card-header justify-content-between border-bottom rounded-top">
                                            <div class="header-title">
                                                <div class="iq-search-bar device-search  position-relative">
                                                    <form action="#" class="searchbox">
                                                        <input type="text" class="text search-input form-control bg-soft-primary"
                                                               placeholder="Search here...">
                                                        <a class="d-lg-none d-flex" href="javascript:void(0);">
                                                            <span class="material-symbols-outlined">search</span>
                                                        </a>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>

                                    </li>
                                </ul>
                            </li>
                            @{
                                var userName = Context.Session.GetString("UserName");
                            }
                            <ul class="navbar-nav ms-auto align-items-center d-flex flex-row">
                                @if (!string.IsNullOrEmpty(userName))
                                {
                                    <li class="nav-item d-flex align-items-center">
                                        <span class="text-danger fw-bold me-2">
                                            Welcome @userName! Press play and lose yourself in the magic of music.
                                        </span>
                                        <a asp-controller="Dashboard" asp-action="Profile">
                                        <img src="@profileImage"
                                             alt="Profil Resmi"
                                             class="rounded-circle"
                                             width="40"
                                             height="40"
                                                 style="object-fit: cover; border: 2px solid #ddd;" />
                                        </a>
                                    </li>

                                    <li class="nav-item ms-3">
                                        <a href="javascript:void(0);"
                                           class="btn"
                                           style="color: #ff4d4d; border: 1px solid #ff4d4d; padding: 6px 16px; border-radius: 6px;"
                                           onclick="performLogout()">
                                            Log Out
                                        </a>
                                    </li>
                                }
                                else
                                {
                                    <li class="nav-item d-flex">
                                        <a asp-controller="Dashboard" asp-action="Login" class="btn btn-outline-primary me-2">Login</a>
                                        <a asp-controller="Dashboard" asp-action="Register" class="btn btn-primary">Register</a>
                                    </li>
                                }
                            </ul>
                    </div>
                </div>
            </nav>            <!--Nav End-->
        </div>
        <div class="content-inner container-fluid pb-0" id="page_layout">
            @RenderBody()
        </div>
        <div class="card border-top mb-0">
            <div class="card-body">
                <div class="d-flex align-items-center justify-content-between flex-md-row flex-column gap-3">
                    <div class="">

                        <small> © 2025 Emo Tagger. All rights reserved. </small>
                    </div>
                  
                </div>
            </div>
        </div>
   
    </main>




    <!--Footer Start-->
    <footer class="footer">
        <div class="footer-bottom">
            <div class="container-fluid px-4">
                <div class="row align-items-center">
                    <div class="col-xl-4 col-md-4 col-sm-6">
                        <div class="details">
                            @await Component.InvokeAsync("NowPlaying")
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!--Footer End-->
    <!-- Global audio player that persists across page navigation -->
    <audio id="musicPlayer" preload="metadata" controls style="width:100%; display:block;"></audio>

    <!-- Footer Section End -->        <!--Footer End-->
    <!--Burger Menu Start-->
    <div class="iq-float-menu">
        <input type="checkbox" href="#" name="menu-open" id="menu-open" class="iq-float-menu-open">
        <label for="menu-open" class="iq-float-menu-open-button">
            <span class="lines line-1"></span>
            <span class="lines line-2"></span>
            <span class="lines line-3"></span>
        </label>
        <span class="iq-float-menu-item bg-primary float-menu-rtl-mode" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Direction Mode">
            <span class="ltr-mode" data-setting="attribute">
                <input type="radio" value="ltr" class="btn-check" name="theme_scheme_direction" data-prop="dir"
                       id="theme-scheme-direction-ltr">
                <label class="m-o p-0" for="theme-scheme-direction-ltr">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 18H21M3 18L6 21M3 18L6 15M11 12V3H17M15 3V12M10.5 3C10.0404 3 9.58525 3.0776 9.16061 3.22836C8.73597 3.37913 8.35013 3.6001 8.02513 3.87868C7.70012 4.15726 7.44231 4.48797 7.26642 4.85195C7.09053 5.21593 7 5.60603 7 6C7 6.39397 7.09053 6.78407 7.26642 7.14805C7.44231 7.51203 7.70012 7.84274 8.02513 8.12132C8.35013 8.3999 8.73597 8.62087 9.16061 8.77164C9.58525 8.9224 10.0404 9 10.5 9L10.5 3Z"
                              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </label>
            </span>
            <span class="rtl-mode" data-setting="attribute">
                <input type="radio" value="rtl" class="btn-check" name="theme_scheme_direction" data-prop="dir"
                       id="theme-scheme-direction-rtl">
                <label class="m-o p-0" for="theme-scheme-direction-rtl">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 18H21M3 18L6 21M3 18L6 15M11 12V3H17M15 3V12M10.5 3C10.0404 3 9.58525 3.0776 9.16061 3.22836C8.73597 3.37913 8.35013 3.6001 8.02513 3.87868C7.70012 4.15726 7.44231 4.48797 7.26642 4.85195C7.09053 5.21593 7 5.60603 7 6C7 6.39397 7.09053 6.78407 7.26642 7.14805C7.44231 7.51203 7.70012 7.84274 8.02513 8.12132C8.35013 8.3999 8.73597 8.62087 9.16061 8.77164C9.58525 8.9224 10.0404 9 10.5 9L10.5 3Z"
                              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                    </svg>
                </label>
            </span>
        </span>
        <span class="iq-float-menu-item bg-info float-menu-color-mode" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Color Mode">
            <span class="light-mode" data-setting="radio">
                <input type="radio" id="color-mode-light" class="btn-check" value="light" name="theme_scheme">
                <label class="switch-icon-label light-icon" for="color-mode-light">
                    <svg width="23" height="21" viewBox="0 0 23 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g>
                            <path d="M15.6999 11.0021C15.6999 13.449 13.7161 15.4328 11.2691 15.4328C8.82218 15.4328 6.83838 13.449 6.83838 11.0021C6.83838 8.55509 8.82218 6.57129 11.2691 6.57129C13.7161 6.57129 15.6999 8.55509 15.6999 11.0021Z"
                                  stroke="currentColor" stroke-width="1.5" />
                            <path d="M11.2693 4.50365L11.2693 1.5498" stroke="currentColor" stroke-width="1.5" />
                            <path d="M11.2693 20.4543L11.2693 17.5005" stroke="currentColor" stroke-width="1.5" />
                            <path d="M17.7676 11.002L20.7214 11.002" stroke="currentColor" stroke-width="1.5" />
                            <path d="M1.81691 11.002L4.77075 11.002" stroke="currentColor" stroke-width="1.5" />
                            <path d="M15.8642 6.40654L17.9529 4.31787" stroke="currentColor" stroke-width="1.5" />
                            <path d="M4.58516 17.6858L6.67383 15.5972" stroke="currentColor" stroke-width="1.5" />
                            <path d="M15.8647 15.5969L17.9534 17.6855" stroke="currentColor" stroke-width="1.5" />
                            <path d="M4.58541 4.31807L6.67407 6.40674" stroke="currentColor" stroke-width="1.5" />
                        </g>
                        <defs>
                            <clipPath>
                                <rect width="21.5385" height="20" fill="white" transform="translate(0.5 0.848145)" />
                            </clipPath>
                        </defs>
                    </svg>
                </label>
            </span>
            <div class="dark-mode" data-setting="radio">
                <input type="radio" id="color-mode-dark" class="btn-check custom-inputs" value="dark" name="theme_scheme"
                       checked>
                <label class="switch-icon-label dark-icon" for="color-mode-dark">
                    <svg width="15" height="16" viewBox="0 0 15 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd"
                              d="M7.67947 0.610121C7.54098 0.798414 7.51561 1.04704 7.6132 1.25943C8.04109 2.19062 8.25182 3.11105 8.25182 4.13855C8.25182 7.36765 5.53103 10.128 2.03754 10.128C1.66261 10.128 1.27334 10.0371 0.793957 9.92119C0.55797 9.86413 0.309965 9.94489 0.152823 10.13C-0.00431902 10.315 -0.0437864 10.5729 0.0507908 10.7965C1.20467 13.5246 4.00668 15.3481 7.26756 15.3481C11.5607 15.3481 15 11.9261 15 7.84815C15 4.02506 12.0717 0.842474 8.27956 0.353436C8.04774 0.32354 7.81796 0.421827 7.67947 0.610121ZM9.21399 1.86727C11.8368 2.67847 13.7143 5.07555 13.7143 7.84815C13.7143 11.1894 10.8775 14.0624 7.26756 14.0624C4.97916 14.0624 3.00922 13.015 1.85983 11.4093C1.91884 11.4122 1.97811 11.4137 2.03754 11.4137C6.21474 11.4137 9.53753 8.10382 9.53753 4.13855C9.53753 3.34115 9.42909 2.594 9.21399 1.86727Z"
                              fill="currentColor" />
                    </svg>
                </label>
            </div>
        </span>
        <!-- Orijinal coming soon öğesinin yerine bu kodu yazın -->
        <span class="iq-float-menu-item bg-dark float-menu-theme-color" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Theme Colors">
            <span class="text-white">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-palette"
                     viewBox="0 0 16 16">
                    <path d="M8 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zm4 3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3zM5.5 7a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm.5 6a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z" />
                    <path d="M16 8c0 3.15-1.866 2.585-3.567 2.07C11.42 9.763 10.465 9.473 10 10c-.603.683-.475 1.819-.351 2.92C9.826 14.495 9.996 16 8 16a8 8 0 1 1 8-8zm-8 7c.611 0 .654-.171.655-.176.078-.146.124-.464.07-1.119-.014-.168-.037-.37-.061-.591-.052-.464-.112-1.005-.118-1.462-.01-.707.083-1.61.704-2.314.369-.417.845-.578 1.272-.618.404-.038.812.026 1.16.104.343.077.702.186 1.025.284l.028.008c.346.105.658.199.953.266.653.148.904.083.991.024C14.717 9.38 15 9.161 15 8a7 7 0 1 0-7 7z" />
                </svg>
            </span>
        </span>
        <!-- Renk paleti modal -->
        <!-- Theme Color Palette with Additional Elegant Colors -->
        <div class="theme-color-wrapper">
            <div class="theme-color-palette">
                <div class="color-palette-header">
                    <h6>Theme Colors</h6>
                    <span class="close-palette">×</span>
                </div>
                <div class="color-options">
                    <!-- Original Colors -->
                    <span class="color-option" data-theme-color="theme-siyah" style="background-color: #121212;">
                        <i class="bi bi-check-lg"></i>
                    </span>
                    <span class="color-option" data-theme-color="theme-mor" style="background-color: #7016d0;">
                        <i class="bi bi-check-lg"></i>
                    </span>
                    <span class="color-option" data-theme-color="theme-kirmizi" style="background-color: #e73827;">
                        <i class="bi bi-check-lg"></i>
                    </span>
                    <span class="color-option" data-theme-color="theme-mavi" style="background-color: #1a56db;">
                        <i class="bi bi-check-lg"></i>
                    </span>
                    <span class="color-option" data-theme-color="theme-yesil" style="background-color: #16a34a;">
                        <i class="bi bi-check-lg"></i>
                    </span>
                    <span class="color-option" data-theme-color="theme-turuncu" style="background-color: #ea580c;">
                        <i class="bi bi-check-lg"></i>
                    </span>
                    <span class="color-option" data-theme-color="theme-turkuaz" style="background-color: #0d9488;">
                        <i class="bi bi-check-lg"></i>
                    </span>
                    <span class="color-option" data-theme-color="theme-pembe" style="background-color: #ec4899;">
                        <i class="bi bi-check-lg"></i>
                    </span>
                    <span class="color-option" data-theme-color="theme-sari" style="background-color: #eab308;">
                        <i class="bi bi-check-lg"></i>
                    </span>
                    <span class="color-option" data-theme-color="theme-lacivert" style="background-color: #1e3a8a;">
                        <i class="bi bi-check-lg"></i>
                    </span>
                    <span class="color-option" data-theme-color="theme-bordo" style="background-color: #9f1239;">
                        <i class="bi bi-check-lg"></i>
                    </span>

                    <!-- New Elegant Colors -->
                    <span class="color-option" data-theme-color="theme-gold" style="background-color: #6F8FAF;">
                        <i class="bi bi-check-lg"></i>
                    </span>
                    <span class="color-option" data-theme-color="theme-sage" style="background-color: #9BC4B7;">
                        <i class="bi bi-check-lg"></i>
                    </span>
                    <span class="color-option" data-theme-color="theme-wine" style="background-color: #722F37;">
                        <i class="bi bi-check-lg"></i>
                    </span>
                    <span class="color-option" data-theme-color="theme-navy-blue" style="background-color: #34495E;">
                        <i class="bi bi-check-lg"></i>
                    </span>
                </div>
            </div>
        </div>
    </div>     
    <!--Burger Menu End-->
    <!-- Wrapper End-->
    <!-- Library Bundle Script -->
    <script src="~/assets/js/core/libs.min.js"></script>
    <!-- Plugin Scripts -->
    <!-- Tour plugin Start -->
    <script src="~/assets/vendor/sheperd/dist/js/sheperd.min.js"></script>
    <script src="~/assets/js/plugins/tour.js" defer></script>


    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const audio = document.getElementById("musicPlayer");

            const lastSrc = localStorage.getItem("lastPlayedSrc");
            const lastTitle = localStorage.getItem("lastPlayedTitle");

            if (lastSrc && lastTitle) {
                audio.src = lastSrc;

                const marquee = document.querySelector('.marquee-content');
                if (marquee) {
                    marquee.innerHTML = `<strong>${lastTitle}</strong>`;
                }

                document.title = lastTitle + " 🎵";
            }
        });
    </script>

    <script>
        // Sayfa geçişlerinde müziğin devam etmesini sağlayan SPA (Single Page Application) benzeri bağlantı yönetimi
        document.addEventListener('DOMContentLoaded', function() {
            // Tüm iç bağlantıları işle (Listen & Tag hariç)
            rehookLinks();

            // Geri/ileri tuşları için popstate olayını dinle
            window.addEventListener('popstate', function() {
                // Sayfayı yeniden yüklerken müzik durumunu koru
                const audio = document.getElementById('musicPlayer');
                const isPlaying = audio && !audio.paused;
                const currentTime = audio ? audio.currentTime : 0;
                const currentSrc = audio ? audio.src : '';

                // Sayfa yeniden yüklendiğinde müzik bilgilerini geri yükleyecek bir fonksiyon çağır
                window.location.reload();
            });
        });

        // Tüm bağlantıları yeniden bağla
        function rehookLinks() {
            document.querySelectorAll('a').forEach(link => {
                // Zaten işlenmiş linkleri tekrar işleme
                if (link.hasAttribute('data-hooked')) return;

                // Dış bağlantıları ve Listen&Tag sayfasına olan bağlantıları normal davranışla bırak
                const href = link.getAttribute('href');
                if (!href ||
                    href.startsWith('#') ||
                    href.startsWith('javascript:') ||
                    href.includes('/Dashboard/ListenTag') ||
                    (href.startsWith('http') && !href.includes(window.location.hostname))) {
                    return;
                }

                link.setAttribute('data-hooked', 'true');
                link.addEventListener('click', function(e) {
                    e.preventDefault();

                    // Müzik çalar bilgilerini kaydet
                    const audio = document.getElementById('musicPlayer');
                    const wasPlaying = audio && !audio.paused;
                    const currentTime = audio ? audio.currentTime : 0;
                    const currentSrc = audio ? audio.src : '';
                    const currentTitle = localStorage.getItem('lastPlayedTitle') || '';

                    // AJAX ile yeni sayfayı yükle
                    fetch(href)
                        .then(response => response.text())
                        .then(html => {
                            // HTML'i ayrıştır
                            const parser = new DOMParser();
                            const doc = parser.parseFromString(html, 'text/html');

                            // Ana içeriği güncelle
                            const content = doc.querySelector('.content-inner');
                            if (content) {
                                document.querySelector('.content-inner').innerHTML = content.innerHTML;
                            }

                            // Başlığı güncelle
                            document.title = doc.title;

                            // URL'yi güncelle
                            history.pushState({}, '', href);

                            // Yeni sayfadaki scriptleri çalıştır
                            Array.from(content.querySelectorAll('script')).forEach(oldScript => {
                                const newScript = document.createElement('script');
                                Array.from(oldScript.attributes).forEach(attr => {
                                    newScript.setAttribute(attr.name, attr.value);
                                });
                                newScript.textContent = oldScript.textContent;

                                // Eski script öğesini yenisiyle değiştir
                                if (oldScript.parentNode) {
                                    oldScript.parentNode.replaceChild(newScript, oldScript);
                                }
                            });

                            // Müzik çalarını geri yükle
                            setTimeout(() => {
                                // Müzik durumunu geri yükle
                                if (wasPlaying && audio) {
                                    audio.currentTime = currentTime;
                                    if (audio.paused) {
                                        audio.play().catch(e => console.warn("Otomatik oynatma engellendi:", e));
                                    }
                                }

                                // Eğer çalınıyorsa, çalan şarkıyı görsel olarak işaretle
                                if (audio && audio.src) {
                                    document.querySelectorAll('.music-row').forEach(row => {
                                        const onclick = row.getAttribute('onclick');
                                        if (onclick && onclick.includes(audio.src)) {
                                            row.classList.add('playing-now');
                                        }
                                    });
                                }

                                // Yeni bağlantıları tekrar bağla
                                rehookLinks();
                            }, 300);
                        })
                        .catch(error => {
                            console.error("Sayfa yükleme hatası:", error);
                            // Hata durumunda normal sayfa yüklemesine dön
                            window.location.href = href;
                        });
                });
            });
        }

        // Müzik oynatma fonksiyonunu global olarak tanımla
        function playMusic(src, title, element) {
            const audio = document.getElementById("musicPlayer");

            if (!audio) return;

            // localStorage'a son oynatılanı kaydet
            localStorage.setItem("lastPlayedSrc", src);
            localStorage.setItem("lastPlayedTitle", title);

            // Stil
            document.querySelectorAll('.music-row').forEach(row => row.classList.remove('playing-now'));
            if (element) element.classList.add('playing-now');

            // Global değişkenleri ayarla (footer ile uyum için)
            window.currentTrackTitle = title.split(' - ')[0];
            window.currentTrackArtist = title.split(' - ')[1];
            window.currentMusicId = element ? element.getAttribute('data-music-id') : null;

            // TrackData elementini güncelle (eğer varsa)
            updateTrackDataElement();

            // Oynat
            audio.src = src;
            audio.play().catch(e => console.warn("Otomatik oynatma engellendi:", e));

            document.title = title + " 🎵";

            const marquee = document.querySelector('.marquee-content');
            if (marquee) {
                marquee.innerHTML = `<strong>${title}</strong>`;
            }

            // Özel event tetikle - diğer bileşenlerle iletişim için
            document.dispatchEvent(new CustomEvent('songChanged', {
                detail: {
                    id: window.currentMusicId,
                    title: window.currentTrackTitle,
                    artist: window.currentTrackArtist
                }
            }));
        }

        // TrackData elementini güncelle
        function updateTrackDataElement() {
            const trackDataElement = document.getElementById('trackData');
            if (!trackDataElement || !window.currentMusicId) return;

            // Şarkı index'ini bul
            const trackItems = trackDataElement.querySelectorAll('.track-item');
            let currentIndex = -1;

            trackItems.forEach((item, index) => {
                if (item.dataset.id === window.currentMusicId) {
                    currentIndex = index;
                }
            });

            // İndex bulunduysa güncelle
            if (currentIndex >= 0) {
                trackDataElement.dataset.currentIndex = currentIndex;
                trackDataElement.dataset.currentTitle = window.currentTrackTitle;
                trackDataElement.dataset.currentArtist = window.currentTrackArtist;
            }
        }

        // Sayfa yüklendiğinde çalan şarkıları işaretle
        document.addEventListener('DOMContentLoaded', function() {
            const audio = document.getElementById("musicPlayer");
            if (audio && audio.src) {
                document.querySelectorAll('.music-row').forEach(row => {
                    const onclick = row.getAttribute('onclick');
                    if (onclick && onclick.includes(audio.src)) {
                        row.classList.add('playing-now');
                    }
                });
            }
        });
                // Logout işlemi için JavaScript fonksiyonu
        function performLogout() {
            // Tüm localStorage ve sessionStorage verilerini temizle
            localStorage.removeItem("lastPlayedSrc");
            localStorage.removeItem("lastPlayedTitle");
            localStorage.removeItem("selectedCategory");
            localStorage.removeItem("themeColor");
            sessionStorage.clear();

            // Önbelleği önlemek için rastgele bir parametre ekleyerek logout'a git
            window.location.href = '/Dashboard/Logout?t=' + new Date().getTime();
        }
    </script>





    <!-- Slider-tab Script -->
    <script src="~/assets/js/plugins/slider-tabs.js"></script>





    <!-- SwiperSlider Script -->
    <script src="~/assets/vendor/swiperSlider/swiper-bundle.min.js"></script>
    <script src="~/assets/js/plugins/swiper-slider.js" defer></script>
    <!-- Lodash Utility -->
    <script src="~/assets/vendor/lodash/lodash.min.js"></script>
    <!-- Utilities Functions -->
    <script src="~/assets/js/iqonic-script/utility.min.js"></script>
    <!-- Settings Script -->
    <script src="~/assets/js/iqonic-script/setting.min.js"></script>
    <!-- Settings Init Script -->
    <script src="~/assets/js/setting-init.js"></script>
    <!-- External Library Bundle Script -->
    <script src="~/assets/js/core/external.min.js"></script>
    <!-- Widgetchart Script -->
    <script src="~/assets/js/charts/widgetcharts.js?v=1.0.1" defer></script>
    <!-- Dashboard Script -->
    <script src="~/assets/js/charts/dashboard.js?v=1.0.1" defer></script>
    <!-- Music Player -->
    <script src="~/assets/js/music-player.js?v=1.0.1" defer></script>
    <!-- qompacui Script -->
    <script src="~/assets/js/muzik.js?v=1.0.1" defer></script>
    <script src="~/assets/js/sidebar.js?v=1.0.1" defer>
        </script>
    <!-- Müzik çalar entegrasyonu için JavaScript -->
    <script src="~/js/player-integration.js"></script>

    @await RenderSectionAsync("Scripts", required: false)


</body>
</html>
  